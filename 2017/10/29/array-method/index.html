<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="LHammer&#39;s Blog">
  <meta name="keyword" content="">
  <title>
    
      ğŸ––ä½ è¿˜åœ¨ç”¨forå¾ªç¯å¤§æ³•éº½ | LHammer&#39;s Blog
    
  </title>
  <!-- <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"> -->

  <link href="//at.alicdn.com/t/font_667674_yvw7xgxtw7firudi.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <!-- <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script> -->

  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-119770326-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>
  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <!-- <span>LHammer's Blog</span> -->
    </a>
    <ul class="right-list">
      
        <li class="list-item" >
          <!-- <div class="tooltip"> -->
            <!-- <span class="tooltiptext">ğŸ·</span> -->

            
            <a href="/tags/" class="item-link">ğŸ·</a>
          
        </li>
      
        <li class="list-item" >
          <!-- <div class="tooltip"> -->
            <!-- <span class="tooltiptext">ğŸ“Ÿ</span> -->

            
            <a href="/projects/" class="item-link">ğŸ“Ÿ</a>
          
        </li>
      
        <li class="list-item" >
          <!-- <div class="tooltip"> -->
            <!-- <span class="tooltiptext">ğŸ‘¨ğŸ»â€ğŸ’»</span> -->

            
            <a href="/about/" class="item-link">ğŸ‘¨ğŸ»â€ğŸ’»</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">ğŸ·</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/projects/" class="menu-link">ğŸ“Ÿ</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">ğŸ‘¨ğŸ»â€ğŸ’»</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>ğŸ––ä½ è¿˜åœ¨ç”¨forå¾ªç¯å¤§æ³•éº½</h2>
</div>

<main class="app-body">
  <article class="post-article">
    <section class="markdown-content"><p>æ–‡ç« ä¸»è¦ä»‹ç»äº†æ•°ç»„Array.prototypeæ–¹æ³•çš„ä½¿ç”¨ï¼Œéœ€è¦çš„æœ‹å‹å¯ä»¥å‚è€ƒä¸‹ï¼Œå¦‚æœä½ æ˜¯å¤§ç¥ï¼Œè¯·ç›´æ¥æ— è§†ã€‚åœ¨ES5ä¸­ï¼Œä¸€å…±æœ‰<a href="http://kangax.github.io/compat-table/es5/" target="_blank" rel="noopener">9ç§Arrayæ–¹æ³•</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.indexOf</span><br><span class="line"><span class="built_in">Array</span>.prototype.lastIndexOf</span><br><span class="line"><span class="built_in">Array</span>.prototype.every</span><br><span class="line"><span class="built_in">Array</span>.prototype.some</span><br><span class="line"><span class="built_in">Array</span>.prototype.forEach</span><br><span class="line"><span class="built_in">Array</span>.prototype.map</span><br><span class="line"><span class="built_in">Array</span>.prototype.filter</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduce</span><br><span class="line"><span class="built_in">Array</span>.prototype.reduceRight</span><br></pre></td></tr></table></figure>
<p>åœ¨ES6å³å°†æ™®åŠçš„æ—¶ä»£ï¼Œæˆ‘ç›¸ä¿¡è¿™äº›æ–¹æ³•å¯¹FEå¼€å‘è€…æ˜¯éå¸¸å®ç”¨çš„å¿…å¤‡æŠ€èƒ½ï¼Œæ¥ä¸‹æ¥æˆ‘å°†é€šè¿‡å®ä¾‹å¸®å¤§å®¶æ›¿æ¢forå¾ªç¯å¤§æ³•ï¼Œæ›´é«˜æ•ˆçš„æ¥æ“ä½œæ•°ç»„ã€‚</p>
<h3 id="1ã€indexOf"><a href="#1ã€indexOf" class="headerlink" title="1ã€indexOf"></a>1ã€indexOf</h3><p>indexOf()æ–¹æ³•è¿”å›åœ¨è¯¥æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„å…ƒç´ ä½ç½®ï¼Œå¦‚æœå®ƒä¸å­˜åœ¨åˆ™è¿”å›-1ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'apple'</span>,<span class="string">'orange'</span>,<span class="string">'pear'</span>],</span><br><span class="line">    found = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">0</span>, l = arr.length; i&lt; l; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(arr[i] === <span class="string">'orange'</span>)&#123;</span><br><span class="line">        found = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"found:"</span>,found);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* indexof */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'apple'</span>,<span class="string">'orange'</span>,<span class="string">'pear'</span>];  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"found:"</span>, arr.indexOf(<span class="string">"orange"</span>) != <span class="number">-1</span>);</span><br></pre></td></tr></table></figure>
<h3 id="2ã€lastindexOf"><a href="#2ã€lastindexOf" class="headerlink" title="2ã€lastindexOf"></a>2ã€lastindexOf</h3><p><code>lastIndexOf()</code>æ–¹æ³•è¿”å›åœ¨è¯¥æ•°ç»„ä¸­æœ€åä¸€ä¸ªæ‰¾åˆ°çš„å…ƒç´ ä½ç½®ï¼Œå’Œ<code>indexof()</code>ç›¸åã€‚</p>
<h3 id="3ã€every"><a href="#3ã€every" class="headerlink" title="3ã€every()"></a>3ã€every()</h3><p><code>every()</code>å¯æ˜¯æ£€æµ‹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹æ˜¯å¦ç¬¦åˆæ¡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for æ˜¯å¦å…¨éƒ¨å¤§äº0 */</span></span><br><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> result = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ary.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(ary[i] &lt; <span class="number">0</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result()) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* every */</span></span><br><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> result = ary.every(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item &gt; <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>
<h3 id="4ã€some"><a href="#4ã€some" class="headerlink" title="4ã€some()"></a>4ã€some()</h3><p><code>some()</code>å¯ä»¥æ£€æµ‹æ•°ç»„ä¸­æ˜¯å¦æœ‰æŸä¸€é¡¹ç¬¦åˆæ¡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for æ˜¯å¦å­˜åœ¨å°äº0çš„é¡¹ */</span></span><br><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">-24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> result = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ary.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(ary[i] &lt; <span class="number">0</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result())  <span class="comment">//æœ‰ä¸€é¡¹å°äº0ï¼Œè¿”å›true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* some æ˜¯å¦å­˜åœ¨å°äº0çš„é¡¹ */</span></span><br><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">-24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> result = ary.some(<span class="function"><span class="keyword">function</span>(<span class="params">item, index</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item &lt; <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>
<h3 id="5ã€forEach"><a href="#5ã€forEach" class="headerlink" title="5ã€forEach()"></a>5ã€forEach()</h3><p><code>forEach</code>ä¸ºæ¯ä¸ªå…ƒç´ æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">0</span>, l = arr.length; i&lt; l; i++)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* forEach */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>forEachæ˜¯ç”¨æ¥æ›¿æ¢forå¾ªç¯çš„</p>
</blockquote>
<h3 id="6ã€map"><a href="#6ã€map" class="headerlink" title="6ã€map()"></a>6ã€map()</h3><p><code>map()</code>å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸€å®šæ“ä½œï¼ˆæ˜ å°„ï¼‰åï¼Œä¼šè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for */</span></span><br><span class="line"><span class="keyword">var</span> oldArr = [&#123;<span class="attr">first_name</span>:<span class="string">"Colin"</span>,<span class="attr">last_name</span>:<span class="string">"Toh"</span>&#125;,&#123;<span class="attr">first_name</span>:<span class="string">"Addy"</span>,<span class="attr">last_name</span>:<span class="string">"Osmani"</span>&#125;,&#123;<span class="attr">first_name</span>:<span class="string">"Yehuda"</span>,<span class="attr">last_name</span>:<span class="string">"Katz"</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNewArr</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newArr = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">0</span>, l = oldArr.length; i&lt; l; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> item = oldArr[i];</span><br><span class="line">    item.full_name = [item.first_name,item.last_name].join(<span class="string">" "</span>);</span><br><span class="line">    newArr[i] = item;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getNewArr());</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* map */</span></span><br><span class="line"><span class="keyword">var</span> oldArr = [&#123;<span class="attr">first_name</span>:<span class="string">"Colin"</span>,<span class="attr">last_name</span>:<span class="string">"Toh"</span>&#125;,&#123;<span class="attr">first_name</span>:<span class="string">"Addy"</span>,<span class="attr">last_name</span>:<span class="string">"Osmani"</span>&#125;,&#123;<span class="attr">first_name</span>:<span class="string">"Yehuda"</span>,<span class="attr">last_name</span>:<span class="string">"Katz"</span>&#125;];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNewArr</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> oldArr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span><br><span class="line">    item.full_name = [item.first_name,item.last_name].join(<span class="string">" "</span>);</span><br><span class="line">    <span class="keyword">return</span> item;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getNewArr());</span><br></pre></td></tr></table></figure>
<blockquote>
<p>map()æ˜¯å¤„ç†æœåŠ¡å™¨è¿”å›æ•°æ®æ—¶æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„å‡½æ•°ã€‚</p>
</blockquote>
<h4 id="forEach-ä¸mapçš„åŒºåˆ«ï¼š"><a href="#forEach-ä¸mapçš„åŒºåˆ«ï¼š" class="headerlink" title="forEach ä¸mapçš„åŒºåˆ«ï¼š"></a>forEach ä¸mapçš„åŒºåˆ«ï¼š</h4><p>è¯­æ³•ï¼šforEachå’Œmapéƒ½æ”¯æŒ2ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯å›è°ƒå‡½æ•°ï¼ˆitem,index,listï¼‰å’Œä¸Šä¸‹æ–‡ï¼›</p>
<blockquote>
<p>forEachï¼šç”¨æ¥éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼›è¿™ä¸ªæ–¹æ³•æ‰§è¡Œæ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œå¯¹åŸæ¥æ•°ç»„ä¹Ÿæ²¡æœ‰å½±å“ï¼›æ•°ç»„ä¸­æœ‰å‡ é¡¹ï¼Œé‚£ä¹ˆä¼ é€’è¿›å»çš„åŒ¿åå›è°ƒå‡½æ•°å°±éœ€è¦æ‰§è¡Œå‡ æ¬¡ï¼›æ¯ä¸€æ¬¡æ‰§è¡ŒåŒ¿åå‡½æ•°çš„æ—¶å€™ï¼Œè¿˜ç»™å…¶ä¼ é€’äº†ä¸‰ä¸ªå‚æ•°å€¼ï¼šæ•°ç»„ä¸­çš„å½“å‰é¡¹item,å½“å‰é¡¹çš„ç´¢å¼•index,åŸå§‹æ•°ç»„listï¼›ç†è®ºä¸Šè¿™ä¸ªæ–¹æ³•æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä»…ä»…æ˜¯éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œä¸å¯¹åŸæ¥æ•°ç»„è¿›è¡Œä¿®æ”¹ï¼›ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±é€šè¿‡æ•°ç»„çš„ç´¢å¼•æ¥ä¿®æ”¹åŸæ¥çš„æ•°ç»„ï¼›<br>forEachæ–¹æ³•ä¸­çš„thisæ˜¯ary,åŒ¿åå›è°ƒå‡½æ•°ä¸­çš„thisé»˜è®¤æ˜¯windowï¼›</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> res = ary.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item,index,input</span>) </span>&#123;</span><br><span class="line">  input[index] = item * <span class="number">10</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">/* undefined */</span></span><br><span class="line"><span class="built_in">console</span>.log(ary); <span class="comment">/* ä¼šå¯¹åŸæ¥çš„æ•°ç»„äº§ç”Ÿæ”¹å˜ */</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>mapï¼š å’ŒforEachéå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹å€¼çš„ï¼Œç”¨æ¥éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼›</p>
</blockquote>
<p>åŒºåˆ«ï¼šmapçš„å›è°ƒå‡½æ•°ä¸­æ”¯æŒreturnè¿”å›å€¼ï¼›returnçš„æ˜¯å•¥ï¼Œç›¸å½“äºæŠŠæ•°ç»„ä¸­çš„è¿™ä¸€é¡¹å˜ä¸ºå•¥ï¼ˆå¹¶ä¸å½±å“åŸæ¥çš„æ•°ç»„ï¼Œåªæ˜¯ç›¸å½“äºæŠŠåŸæ•°ç»„å…‹éš†ä¸€ä»½ï¼ŒæŠŠå…‹éš†çš„è¿™ä¸€ä»½çš„æ•°ç»„ä¸­çš„å¯¹åº”é¡¹æ”¹å˜äº†ï¼‰ï¼›<br>ä¸ç®¡æ˜¯forEachè¿˜æ˜¯map éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„æ„æ€æ˜¯æŠŠåŒ¿åå›è°ƒå‡½æ•°ä¸­çš„thisè¿›è¡Œä¿®æ”¹ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ary = [<span class="number">12</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">42</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">var</span> res = ary.map(<span class="function"><span class="keyword">function</span> (<span class="params">item,index,input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item * <span class="number">10</span>;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">/* [120,230,240,420,10] */</span>;</span><br><span class="line"><span class="built_in">console</span>.log(ary); <span class="comment">/* [12,23,24,42,1] */</span>;</span><br></pre></td></tr></table></figure></p>
<h3 id="7ã€filter"><a href="#7ã€filter" class="headerlink" title="7ã€filter"></a>7ã€filter</h3><p>è¯¥filter()æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ¹é…è¿‡æ»¤æ¡ä»¶çš„æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for */</span></span><br><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"apple"</span>, <span class="string">"count"</span>: <span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"orange"</span>, <span class="string">"count"</span>: <span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"pear"</span>, <span class="string">"count"</span>: <span class="number">3</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"orange"</span>, <span class="string">"count"</span>: <span class="number">16</span>&#125;,</span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> newArr = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">0</span>, l = arr.length; i&lt; l; i++)&#123;</span><br><span class="line">  <span class="keyword">if</span>(arr[i].name === <span class="string">"orange"</span> )&#123;</span><br><span class="line">    newArr.push(arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Filter results:"</span>,newArr);</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* filter */</span></span><br><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"apple"</span>, <span class="string">"count"</span>: <span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"orange"</span>, <span class="string">"count"</span>: <span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"pear"</span>, <span class="string">"count"</span>: <span class="number">3</span>&#125;,</span><br><span class="line">  &#123;<span class="string">"name"</span>:<span class="string">"orange"</span>, <span class="string">"count"</span>: <span class="number">16</span>&#125;,</span><br><span class="line">];</span><br><span class="line"><span class="keyword">var</span> newArr = arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> item.name === <span class="string">"orange"</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Filter results:"</span>,newArr);</span><br></pre></td></tr></table></figure>
<h3 id="8ã€reduce"><a href="#8ã€reduce" class="headerlink" title="8ã€reduce()"></a>8ã€reduce()</h3><p>reduce()å¯ä»¥å®ç°ä¸€ä¸ªç´¯åŠ å™¨çš„åŠŸèƒ½ï¼Œå°†æ•°ç»„çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å°†å…¶é™ä½åˆ°ä¸€ä¸ªå€¼ã€‚ è¯´å®è¯åˆšå¼€å§‹ç†è§£è¿™å¥è¯æœ‰ç‚¹éš¾åº¦ï¼Œå®ƒå¤ªæŠ½è±¡äº†ã€‚ </p>
<p>åœºæ™¯ï¼š ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­æœ‰å¤šå°‘ä¸ªä¸é‡å¤çš„å•è¯ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* for */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"apple"</span>,<span class="string">"orange"</span>,<span class="string">"apple"</span>,<span class="string">"orange"</span>,<span class="string">"pear"</span>,<span class="string">"orange"</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getWordCnt</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i= <span class="number">0</span>, l = arr.length; i&lt; l; i++)&#123;</span><br><span class="line">    <span class="keyword">var</span> item = arr[i];</span><br><span class="line">    obj[item] = (obj[item] +<span class="number">1</span> ) || <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getWordCnt());</span><br></pre></td></tr></table></figure>
<p>è®©æˆ‘å…ˆè§£é‡Šä¸€ä¸‹æˆ‘è‡ªå·±å¯¹reduceçš„ç†è§£ã€‚reduce(callback, initialValue)ä¼šä¼ å…¥ä¸¤ä¸ªå˜é‡ã€‚å›è°ƒå‡½æ•°(callback)å’Œåˆå§‹å€¼(initialValue)ã€‚å‡è®¾å‡½æ•°å®ƒæœ‰ä¸ªä¼ å…¥å‚æ•°ï¼Œprevå’Œnext,indexå’Œarrayã€‚prevå’Œnextä½ æ˜¯å¿…é¡»è¦äº†è§£çš„ã€‚ä¸€èˆ¬æ¥è®²prevæ˜¯ä»æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹çš„ï¼Œnextæ˜¯ç¬¬äºŒä¸ªå…ƒç´ ã€‚ä½†æ˜¯å½“ä½ ä¼ å…¥åˆå§‹å€¼(initialValue)åï¼Œç¬¬ä¸€ä¸ªprevå°†æ˜¯initivalValueï¼Œnextå°†æ˜¯æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* äºŒè€…çš„åŒºåˆ«ï¼Œåœ¨consoleä¸­è¿è¡Œä¸€ä¸‹å³å¯çŸ¥æ™“ */</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"apple"</span>,<span class="string">"orange"</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">noPassValue</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,next</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"prev:"</span>,prev);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"next:"</span>,next);</span><br><span class="line">    <span class="keyword">return</span> prev + <span class="string">" "</span> +next;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">passValue</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,next</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"prev:"</span>,prev);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"next:"</span>,next);</span><br><span class="line">    prev[next] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> prev;</span><br><span class="line">  &#125;,&#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"No Additional parameter:"</span>,noPassValue());</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"----------------"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"With &#123;&#125; as an additional parameter:"</span>,passValue());</span><br></pre></td></tr></table></figure>
<h3 id="9ã€reduceRight"><a href="#9ã€reduceRight" class="headerlink" title="9ã€reduceRight()"></a>9ã€reduceRight()</h3><p>reduceRightçš„è¯­æ³•ä»¥åŠå›è°ƒå‡½æ•°çš„è§„åˆ™å’Œreduceæ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«å°±æ˜¯åœ¨ä¸reduceæ˜¯å‡åºï¼Œå³è§’æ ‡ä»0å¼€å§‹ï¼Œè€ŒreduceRightæ˜¯é™åºï¼Œå³è§’æ ‡ä»arr.length-1å¼€å§‹ã€‚æ–¹æ³•å¯åº”ç”¨äºå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä½¿ç”¨æ­¤æ–¹æ³•åè½¬å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ */</span></span><br><span class="line"><span class="keyword">var</span> word = <span class="string">"retupmoc"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AppendToArray</span>(<span class="params">previousValue, currentValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> result = [].reduceRight.call(word, AppendToArray, <span class="string">"the "</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">/* the computer */</span></span><br></pre></td></tr></table></figure>
<h3 id="isArray"><a href="#isArray" class="headerlink" title="isArray()"></a>isArray()</h3><p>isArray()æ˜¯Arrayå¯¹è±¡çš„ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ary1 = [];</span><br><span class="line"><span class="keyword">var</span> res1 = <span class="built_in">Array</span>.isArray(ary1);  <span class="comment">/* Output: true */</span></span><br><span class="line"><span class="built_in">console</span>.log(res1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ary2 = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> res2 = <span class="built_in">Array</span>.isArray(ary2);  <span class="comment">/* Output: true */</span></span><br><span class="line"><span class="built_in">console</span>.log(res2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ary3 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> res3 = <span class="built_in">Array</span>.isArray(ary3);  <span class="comment">/* Output: true */</span></span><br><span class="line"><span class="built_in">console</span>.log(res3)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> ary4 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> res4 = <span class="built_in">Array</span>.isArray(ary4);  <span class="comment">/* Output: false */</span></span><br><span class="line"><span class="built_in">console</span>.log(res4)</span><br></pre></td></tr></table></figure>
<h3 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h3><h5 id="links"><a href="#links" class="headerlink" title="links"></a><a href="http://blog.csdn.net/i10630226" target="_blank" rel="noopener">links</a></h5></section>
    
    <p class="post-date" dir="rtl">2017å¹´10æœˆ29æ—¥</p>

    
      <div class="tags" dir="rtl">
        
  <a href="/tags#Array" >
    <span class="tag-code">Array</span>
  </a>

  <a href="/tags#Javascript" >
    <span class="tag-code">Javascript</span>
  </a>

      </div>
    


    
      <section id="comments">
        
      <script>
        var disqus_shortname = 'https-l-hammer-github-io';
        
        var disqus_url = 'https://lhammer.cn/2017/10/29/array-method/';
        
        (function(){
          var dsq = document.createElement('script');
          dsq.type = 'text/javascript';
          dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
    
        <div id="disqus_thread">
          <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </section>
    
  </article>
</main>

<script>
  (function () {
    var url = 'https://lhammer.cn/2017/10/29/array-method/';
    $('#article-banner').geopattern(url)
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png') 
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      var imageW = $(this).width()
      var imageH = $(this).height()
      
      var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
      zoom = zoom < 1 ? 1 : zoom
      zoom = zoom > 2 ? 2 : zoom
      var transY = (($(window).height() - imageH) / 2).toFixed(2)

      $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
      $('.image-view-wrap').addClass('wrap-active')
      $('.image-view-wrap img').css({
        'width': `${imageW}`,
        'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
      })
      $('html').css('overflow', 'hidden')

      $('.image-view-wrap').on('click', function() {
        $(this).remove()
        $('html').attr('style', '')
      })
    })

  })();
</script>

    <!-- particles.js container -->
    <div id="particles-js"></div>
    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2018 | LHammer
           <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    <a href="https://github.com/bluemix/hexo-theme-rexo">Rexo</a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine == 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>

    <script>
      /* ---- particles.js config ---- */
      particlesJS("particles-js", {
        "particles": {
          "number": {
            "value": 80,
            "density": {
              "enable": true,
              "value_area": 800
            }
          },
          "color": {
            "value": "#919eaa"
          },
          "shape": {
            "type": "circle",
            "stroke": {
              "width": 0,
              "color": "#000000"
            },
            "polygon": {
              "nb_sides": 5
            },
            "image": {
              "src": "img/github.svg",
              "width": 100,
              "height": 100
            }
          },
          "opacity": {
            "value": 0.3,
            "random": false,
            "anim": {
              "enable": false,
              "speed": 1,
              "opacity_min": 0.1,
              "sync": false
            }
          },
          "size": {
            "value": 4,
            "random": true,
            "anim": {
              "enable": false,
              "speed": 40,
              "size_min": 0.1,
              "sync": false
            }
          },
          "line_linked": {
            "enable": true,
            "distance": 150,
            "color": "#cccccc",
            "opacity": 0.4,
            "width": 1
          },
          "move": {
            "enable": true,
            "speed": 2,
            "direction": "none",
            "random": false,
            "straight": false,
            "out_mode": "out",
            "bounce": false,
            "attract": {
              "enable": false,
              "rotateX": 600,
              "rotateY": 1200
            }
          }
        },
        "interactivity": {
          "detect_on": "canvas",
          "events": {
            "onhover": {
              "enable": true,
              "mode": "grab"
            },
            "onclick": {
              "enable": true,
              "mode": "push"
            },
            "resize": true
          },
          "modes": {
            "grab": {
              "distance": 140,
              "line_linked": {
                "opacity": 1
              }
            },
            "bubble": {
              "distance": 400,
              "size": 40,
              "duration": 2,
              "opacity": 8,
              "speed": 3
            },
            "repulse": {
              "distance": 200,
              "duration": 0.4
            },
            "push": {
              "particles_nb": 4
            },
            "remove": {
              "particles_nb": 2
            }
          }
        },
        "retina_detect": true
      });
    </script>
  </body>
</html>